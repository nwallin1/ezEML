{% import 'bootstrap/wtf.html' as wtf %}
{% import '_macros.html' as macros %}

{% block app_content %}
    <h2>Code Definitions for {{ attribute_name }}</h2>
    <div class="row">
        <div class="col-md-10">
            <form method="POST" action="" class="form" role="form">
                {{ form.csrf_token }}
                <table class="table table-striped">
                    <tr>
                        <th>Code</th>
                        <th>Definition (*)</th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                    {% for cd_entry in codes_list %}
                    <tr>
                        <td>{{ cd_entry.code }}</td>
                        <td>{{ cd_entry.definition }}</td>
                        {{ macros.up_down_arrow(cd_entry.id, cd_entry.upval) }}
                        {{ macros.up_down_arrow(cd_entry.id, cd_entry.downval) }}
                        
 <td><button type="button" class="btn btn-primary codes-button" name="{{ cd_entry.id }}" value="{{ cd_entry.upval }}">{{ cd_entry.upval }}</button></td>
 <td><button type="button" class="btn btn-primary codes-button" name="{{ cd_entry.id }}" value="{{ cd_entry.downval }}">{{ cd_entry.downval }}</button></td>
                        <td><button type="button" class="btn btn-primary codes-button" name="{{ cd_entry.id }}" value="Edit">Edit</button></td>
                        <td><button type="button" class="btn btn-primary codes-button" onclick="return confirm('Are you sure?');" name="{{ cd_entry.id }}" value="Remove">Remove</button></td>
                        
{#                        <td><input class="btn btn-primary" name="{{ cd_entry.id }}" type="submit" value="{{ cd_entry.upval }}"/></td>#}
{#                        <td><input class="btn btn-primary" name="{{ cd_entry.id }}" type="submit" value="{{ cd_entry.downval }}"/></td>#}
{#                        <td><input class="btn btn-primary" name="{{ cd_entry.id }}" type="submit" value="Edit"/>#}
{#                  <input class="btn btn-primary" onclick="return confirm('Are you sure?');" name="{{ cd_entry.id }}" type="submit" value="Remove"/></td>#}
                    </tr>
                    {% endfor %}
                </table>
                <br/>
                <button class="btn btn-primary codes-button" name="1" value="Add Code Definition"/>Add Code Definition</button>
                <button class="btn btn-primary codes-button" name="Back" value="Back to Column"/>Back to Column</button>
                {{ macros.hidden_buttons() }}
            </form>
        </div>
    </div>
    
    <script>
		$(function()
		{
			$('.codes-button').on('click', function(e){
				debugger;
				if(e.target.value === 'Remove'){
					if(confirm('Are you sure?')){
						attribute_modal_load(e,e.target.value);
					}
				}else{
					attribute_modal_load(e,e.target.value);
				}
				
			});
		});
	</script>

{% endblock %}
